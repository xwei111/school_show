"use strict";(self["webpackChunkschool"]=self["webpackChunkschool"]||[]).push([[338],{6338:function(e,l,a){a.r(l),a.d(l,{default:function(){return C}});var o=a(3396);const t={class:"search"},d={class:"top"};function u(e,l,a,u,n,s){const r=(0,o.up)("el-input"),i=(0,o.up)("el-form-item"),m=(0,o.up)("el-option"),p=(0,o.up)("el-select"),c=(0,o.up)("el-form"),f=(0,o.up)("el-button"),b=(0,o.up)("el-table-column"),v=(0,o.up)("el-link"),h=(0,o.up)("el-table"),w=(0,o.up)("Modal");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",t,[(0,o.Wm)(c,{inline:"",model:u.form,class:"form"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{label:"角色名称"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{style:{width:"150px"},modelValue:u.form.name,"onUpdate:modelValue":l[0]||(l[0]=e=>u.form.name=e),clearable:"",placeholder:"请输入角色名称"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(i,{label:"角色状态"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{modelValue:u.form.status,"onUpdate:modelValue":l[1]||(l[1]=e=>u.form.status=e)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(u.options,(e=>((0,o.wg)(),(0,o.j4)(m,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,o.Wm)(f,{style:{"margin-bottom":"18px"}},{default:(0,o.w5)((()=>[(0,o.Uk)("重置")])),_:1}),(0,o.Wm)(f,{style:{"margin-bottom":"18px"},type:"primary"},{default:(0,o.w5)((()=>[(0,o.Uk)("查询")])),_:1})]),(0,o._)("div",d,[(0,o.Wm)(f,{type:"primary",onClick:u.addHandle},{default:(0,o.w5)((()=>[(0,o.Uk)("新增")])),_:1},8,["onClick"])]),(0,o.Wm)(h,{data:u.dataSource,style:{width:"100%"}},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{prop:"name",label:"角色名称"}),(0,o.Wm)(b,{prop:"time",label:"创建时间"}),(0,o.Wm)(b,{prop:"desc",label:"角色描述"}),(0,o.Wm)(b,{prop:"status",label:"角色状态"}),(0,o.Wm)(b,{prop:"oprate",label:"操作"},{default:(0,o.w5)((({row:e})=>[(0,o._)("div",null,[(0,o.Wm)(v,{style:{"margin-right":"10px"},type:"primary",onClick:l=>u.editHandle(e)},{default:(0,o.w5)((()=>[(0,o.Uk)("编辑")])),_:2},1032,["onClick"]),(0,o.Wm)(v,{type:"primary",onClick:l=>u.deleteHandle(e)},{default:(0,o.w5)((()=>[(0,o.Uk)("删除")])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"]),(0,o.Wm)(w,{detail:u.detail,visible:u.visible,onHandleClose:u.handleClose},null,8,["detail","visible","onHandleClose"])])}var n=a(4870);const s={class:"footer"};function r(e,l,a,t,d,u){const n=(0,o.up)("el-input"),r=(0,o.up)("el-form-item"),i=(0,o.up)("el-switch"),m=(0,o.up)("el-tree"),p=(0,o.up)("el-form"),c=(0,o.up)("el-button"),f=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.j4)(f,{title:"添加角色",modelValue:t.dialogVisible,"onUpdate:modelValue":l[3]||(l[3]=e=>t.dialogVisible=e),width:"30%","before-close":t.handleClose},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{ref:"formRef",model:t.form,rules:t.rules,style:{width:"100%"},"label-position":"top"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{label:"角色名称",prop:"name"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{modelValue:t.form.name,"onUpdate:modelValue":l[0]||(l[0]=e=>t.form.name=e),clearable:"",placeholder:"请输入角色名称"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(r,{style:{"margin-bottom":"30px"},label:"角色描述",prop:"desc"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{modelValue:t.form.desc,"onUpdate:modelValue":l[1]||(l[1]=e=>t.form.desc=e),clearable:"",placeholder:"请输入角色描述"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(r,{prop:"status"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{modelValue:t.form.status,"onUpdate:modelValue":l[2]||(l[2]=e=>t.form.status=e),"inactive-text":"角色状态"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(r,{label:"权限",prop:"power"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{ref:"treeRef",data:t.data,props:{children:"children",label:"label"},"show-checkbox":"","node-key":"id","default-expand-all":"",onCheck:t.handleCheckChange},null,8,["data","onCheck"])])),_:1})])),_:1},8,["model","rules"]),(0,o._)("div",s,[(0,o.Wm)(c,{onClick:t.handleClose},{default:(0,o.w5)((()=>[(0,o.Uk)("取消")])),_:1},8,["onClick"]),(0,o.Wm)(c,{type:"primary",onClick:t.addHandle},{default:(0,o.w5)((()=>[(0,o.Uk)("保存")])),_:1},8,["onClick"])])])),_:1},8,["modelValue","before-close"])}var i=a(7178);const m={name:[{required:!0,message:"请输入角色名称",trigger:"blur"}],power:[{required:!0,message:"请选择权限",trigger:"blur"}]},p=[{id:"1",label:"系统管理",children:[{id:"1-1",label:"菜单管理"},{id:"1-2",label:"角色管理"},{id:"1-3",label:"用户管理"},{id:"1-4",label:"登陆日志"}]},{id:"2",label:"评分管理",children:[{id:"2-1",label:"新增评分任务"},{id:"2-2",label:"查看评分列表"}]}];var c={props:{visible:Boolean,detail:Object},setup(e,{emit:l}){const a=(0,n.iH)(),t=(0,n.iH)(),d=(0,n.iH)(!1),u=(0,n.qj)({name:"",desc:"",status:!0,power:null}),s=()=>{l("handleClose")},r=(e,{checkedKeys:l})=>{u.power=l},c=()=>{a.value&&a.value.validate((e=>{e&&(i.z8.success("保存成功"),a.value&&a.value.resetFields(),t.value&&t.value.setCheckedKeys([]),l("handleClose"))}))};return(0,o.YP)((()=>e.visible),(l=>{if(d.value=l,l){const{name:l,desc:a,status:o,power:t}=e.detail??{};u.name=l,u.desc=a,u.status=o,u.power=t}})),{form:u,formRef:a,treeRef:t,rules:m,data:p,dialogVisible:d,addHandle:c,handleClose:s,handleCheckChange:r}}},f=a(89);const b=(0,f.Z)(c,[["render",r],["__scopeId","data-v-45a37cae"]]);var v=b;const h=[{label:"全部",value:"1"},{label:"启用",value:"2"},{label:"禁用",value:"3"}];var w={components:{Modal:v},setup(){const e=(0,n.iH)(!1),l=(0,n.iH)(null),a=(0,n.qj)({name:"",status:"1"}),o=(0,n.iH)([{name:"长河",time:"2021-01-02",desc:"胜多负少",status:!0}]),t=()=>{l.value=null,e.value=!0},d=a=>{e.value=!0,l.value=a},u=e=>{i.z8.success("删除成功")},s=()=>{e.value=!1};return{form:a,detail:l,visible:e,options:h,dataSource:o,addHandle:t,editHandle:d,deleteHandle:u,handleClose:s}}};const k=(0,f.Z)(w,[["render",u],["__scopeId","data-v-4a79c326"]]);var C=k}}]);
//# sourceMappingURL=338.08f25891.js.map